{namespace v=Tx_Vhs_ViewHelpers}

<f:layout name="Default" />


<f:section name="main">

    <f:flashMessages />

    <f:if condition="{settings.cssThemesPath}">
        <f:then><v:var.set name="theme" value="{settings.cssThemesPath}{settings.cssTheme}.css" /></f:then>
        <f:else><v:var.set name="theme" value="{f:uri.resource(path:'Styles/Themes/')}{settings.cssTheme}.css" /></f:else>
    </f:if>

    <v:asset.style path="{theme}"
                   name="SoeeCookiecuttr_styleCookiecuttr"
                   group="SoeeCookiecuttr_CSS" />

    <v:asset.script path="EXT:soee_cookiecuttr/Resources/Public/JavaScript/jquery-1.10.2.min.js"
                    name="SoeeCookiecuttr_jQuery"
                    group="SoeeCookiecuttr_JS"
                    allowMoveToFooter="1" />

    <v:asset.script path="EXT:soee_cookiecuttr/Resources/Public/JavaScript/jquery.cookie.js"
                    name="SoeeCookiecuttr_jqueryCookie"
                    dependencies="SoeeCookiecuttr_jQuery"
                    group="SoeeCookiecuttr_JS"
                    allowMoveToFooter="1" />

    <v:asset.script path="EXT:soee_cookiecuttr/Resources/Public/JavaScript/jquery.cookiecuttr.js"
                    name="SoeeCookiecuttr_cookiecuttr"
                    dependencies="SoeeCookiecuttr_jQuery, SoeeCookiecuttr_jqueryCookie"
                    group="SoeeCookiecuttr_JS"
                    allowMoveToFooter="1" />


    <f:if condition="{settings.cookiePolicyLink}">
        <f:then><v:var.set name="policyLink" value="{f:uri.page(pageUid:'{settings.cookiePolicyLink}')}" /></f:then>
        <f:else><v:var.set name="policyLink" value="" /></f:else>
    </f:if>

    <v:asset.script name="SoeeCookiecuttr_script"
                    dependencies="SoeeCookiecuttr_cookiecuttr"
                    group="SoeeCookiecuttr_JS"
                    allowMoveToFooter="1">

        $(document).ready(function() {
            $.cookieCuttr(
                <![CDATA[{]]>
                cookieCutter: {settings.cookieCutter},
                cookieAnalytics: {settings.cookieAnalytics},
                cookieDeclineButton: {settings.cookieDeclineButton},
                cookieAcceptButton: {settings.cookieAcceptButton},
                cookieResetButton: {settings.cookieResetButton},
                cookieOverlayEnabled: {settings.cookieOverlayEnabled},
                cookiePolicyLink: "{policyLink}",
                cookieMessage: "<f:if condition="{settings.cookieMessage}" then="{settings.cookieMessage}" else="{f:translate(key:'frontend.message')}" />",
                cookieAnalyticsMessage: "<f:if condition="{settings.cookieAnalyticsMessage}" then="{settings.cookieAnalyticsMessage}" else="{f:translate(key:'frontend.analytics_message')}" />",
                cookieWhatAreTheyLink: "{settings.cookieWhatAreTheyLink}",
                cookieErrorMessage: "<f:if condition="{settings.cookieErrorMessage}" then="{settings.cookieErrorMessage}" else="{f:translate(key:'frontend.error_message')}" />",
                cookieNotificationLocationBottom: {settings.cookieNotificationLocationBottom},
                cookieDisable: "{settings.cookieDisable}",
                cookieAcceptButtonText: "<f:if condition="{settings.cookieAcceptButtonText}" then="{settings.cookieAcceptButtonText}" else="{f:translate(key:'frontend.accept_button_text')}" />",
                cookieDeclineButtonText: "<f:if condition="{settings.cookieDeclineButtonText}" then="{settings.cookieDeclineButtonText}" else="{f:translate(key:'frontend.decline_button_text')}" />",
                cookieResetButtonText: "<f:if condition="{settings.cookieResetButtonText}" then="{settings.cookieResetButtonText}" else="{f:translate(key:'frontend.reset_button_text')}" />",
                cookieWhatAreLinkText: "<f:if condition="{settings.cookieWhatAreLinkText}" then="{settings.cookieWhatAreLinkText}" else="{f:translate(key:'frontend.what_are_link_text')}" />",
                cookiePolicyPage: {settings.cookiePolicyPage},
                cookiePolicyPageMessage: "<f:if condition="{settings.cookiePolicyPageMessage}" then="{settings.cookiePolicyPageMessage}" else="{f:translate(key:'frontend.policy_page_message')}" />",
                cookieDiscreetLink: {settings.cookieDiscreetLink},
                cookieDiscreetLinkText: "<f:if condition="{settings.cookieDiscreetLinkText}" then="{settings.cookieDiscreetLinkText}" else="{f:translate(key:'frontend.discreet_link_text')}" />",
                cookieDiscreetPosition: "{settings.cookieDiscreetPosition}",
                cookieDomain: "{settings.cookieDomain}"
                <![CDATA[}]]>
            );
        });

    </v:asset.script>
</f:section>